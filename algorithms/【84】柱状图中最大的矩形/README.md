# 柱状图中最大的矩形

[题目编号-84](https://leetcode-cn.com/problems/largest-rectangle-in-histogram/)



## 题目描述


给定 *n* 个非负整数，用来表示柱状图中各个柱子的高度。每个柱子彼此相邻，且宽度为 1 。

求在该柱状图中，能够勾勒出来的矩形的最大面积。

 

![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/10/12/histogram.png)

以上是柱状图的示例，其中每个柱子的宽度为 1，给定的高度为 `[2,1,5,6,2,3]`。

 

![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/10/12/histogram_area.png)

图中阴影部分为所能勾勒出的最大矩形面积，其面积为 `10` 个单位。

 

**示例:**

```
输入: [2,1,5,6,2,3]
输出: 10
```



## 解题思路

### 暴力

声明两层循环，外层用来找**左边界**，内层用来找**右边界**，并且在外层循环内声明一个**最小高度**，并在内部循环内不断更新，保证两个边界确定好后，有个**最小高度**可以提供运算。

* 时间复杂度：O(n²)
* 空间复杂度：O(1)



### 单调栈

**先解释下什么是单调栈？**

从名字上就听的出来，单调栈中存放的数据应该是有序的，所以单调栈也分为**单调递增栈**和**单调递减栈**

- 单调递增栈：单调递增栈就是从栈底到栈顶数据是从小到大
- 单调递减栈：单调递减栈就是从栈底到栈顶数据是从大到小

该题使用**单调递增栈**，大体思路就是将索引不断压入占中，通过有顺序的栈来将**已经确定好左右边界**的元素计算好面积然后抛出。

因为是从小到大，前面的元素肯定比当前元素矮或一样高，所以前面的元素就是要抛出元素的左边界，而右边界就取决于下一个比要抛出元素矮的待插入元素，因为新元素比较矮，说明待抛出元素就没有了往后扩大面积的希望了，可以直接计算完后抛出了，不用担心前面元素的面积计算，因为记录了索引，直接根据索引就可以计算出中间被抛出了多少个较高元素），不断执行直到栈空。

具体操作步骤解释可以参考[这里](https://leetcode-cn.com/problems/largest-rectangle-in-histogram/solution/wo-yong-qiao-miao-de-bi-yu-jiang-dan-diao-zhan-jie/)

* 时间复杂度：O(n)
* 空间复杂度：O(n)